Boeing 747-300. QAR 4700



СТРУКТУРА

1. Запись выполнена без хедера.
2. В записи, с которой работали, информация записана условными пакетами по 512 байт
   через каждые  512 байт идет вставка 00 04, данная вставка является частью счетчика,
   который состоит из 4 байт .. .. 00 04. То есть, полезная информация - 508 байт.

   0  1  2  3        4 - 512
   .. .. 00 04   полезная информация


ОПРЕДЕЛЕНИЕ ПОЛЕТОВ

1. для определения полетов используется часть счетчика 00 04 (так как она повторяется в счетчике)
2. через каждые 512 байт идет 00 04


Алгоритм определения начала полета

1. найти 00 04
2. через 512 байт найти 00 04
3. Начало полета найдено - записать индекс


Алгоритм поиска конца полета

1. после того как начало полета найдено - комбинацию 00 в количестве от 2х байт

образец конца полета

индекс |
       |
491529 | 00 04 54 48 ...
491648 | 20 50 54 41 4d 50 2e 00 00 00 00 00 ...
491776 | 00 00 00 00 00 ....
491904 | 00 00 00 00 00 ...
492032 | 00 04 00 00 0f 14 18 ...

нули идут внутри 512 байтного "пакета", то есть, в пределах одного пакета идет конец полета и после этого
сразу начало следующего



ЗАПИСЬ ПОЛЕТОВ

Удаление счетчика

1. счетчик .. .. 00 04 (4 байта) необходимо удалить из полета
2. после этого можно конвертировать данные

Конвертация данных

1. Данные конвертируются по схеме как и А320, СААБ, то есть необходимо выполнить поиск схемы смешивания данных
2. Очищенную от счетчиков информацию прогнать через алгоритм поиска схемы смешивания и конвертнуть весь полет.
3. При поиске пакетов ARINC использовать размер фрейма 384 байт (3072 бита), длительность 4 секунды - 64 слов в саб фрейме

